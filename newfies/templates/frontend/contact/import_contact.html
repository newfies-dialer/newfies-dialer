{% extends "frontend/master.html" %}
{% load i18n common_tags %}

{% block extra_files %}
    <style>
    .help-block {
        padding-left: 55px;
    }
    </style>
{% endblock %}

{% block content_header %}
    <h1>{% trans "import contact"|title %} <small>{% trans "import contacts by uploading CSV files"|capfirst %}</small></h1>
{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12">
        <div class="table-responsive">
            <table class="table table-striped table-bordered table-condensed">
            <caption><h3>{% trans "sample file"|title %}</h3></caption>
            <thead>
            <tr>
                <th>{% trans "contact number"|title %}</th>
                <th>{% trans "last name"|title %}</th>
                <th>{% trans "first name"|title %}</th>
                <th>{% trans "email"|title %}</th>
                <th>{% trans "description"|title %}</th>
                <th>{% trans "status"|title %}</th>
                <th>{% trans "address"|title %}</th>
                <th>{% trans "city"|title %}</th>
                <th>{% trans "state"|title %}</th>
                <th>{% trans "country"|title %}</th>
                <th>{% trans "unit number"|title %}</th>
                <th>{% trans "additional variables"|title %}</th>
            </tr>
            </thead>
            <tr>
                <td>650784355</td>
                <td>Belaid</td>
                <td>Arezqui</td>
                <td>areski@gmail.com</td>
                <td>test subscriber</td>
                <td>1</td>
                <td>Address</td>
                <td>Barcelona</td>
                <td>State</td>
                <td>ES</td>
                <td>123</td>
                <td>test</td>
            </tr>
            <tr>
                <td>650723032</td>
                <td>Fourth</td>
                <td>John</td>
                <td>john@gmail.com</td>
                <td>test subscriber</td>
                <td>0</td>
                <td>Address</td>
                <td>Barcelona</td>
                <td>State</td>
                <td>ES</td>
                <td>123</td>
                <td>test</td>
            </tr>
            </table>
            <span class="label notice">{% trans "SUBSCRIBER STATUS = ('1'-'ACTIVE') ('0'-'INACTIVE')" %}</span>
        </div>
    </div>
</div>
<br/><br/>


<form class="well" role="form" method="post" action="" enctype="multipart/form-data" >{% csrf_token %}
    {% for field in form %}
    <div class="form-group {% if field.errors %}has-error{% endif %}">
            <label class="control-label" for="{{ field.auto_id }}">{{ field.label|wordcap }}</label>
            {{ field }}
            {% if field.errors %}
                <span class="help-block">
                    {{ field.errors|removetags:"ul li"|safe }}
                </span>
            {% endif %}
            <span class="help-block">
                {{ field.help_text|wordcap }}
            </span>
    </div>
    {% endfor %}
    <div class="text-right">
        <button type="submit" class="btn btn-primary" value="submit">
            <i class="fa fa-save fa-lg"></i> {% trans "import"|wordcap %}
        </button>
    </div>
</form>

{% if success_import_list %}
<div class="table-responsive">
    <table class="table table-striped table-bordered table-condensed">
        <tr>
            <th>{% trans "contact(s) imported (display max 100)"|capfirst %} :</th>
        </tr>
        {% for row in success_import_list %}
        <tr>
            <td>
                {{ row }}
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endif %}

{% if type_error_import_list %}
<br/>
<div class="table-responsive">
    <table class="table table-striped table-bordered table-condensed">
        <tr>
            <th>{% trans "type mismatch"|title %} :</th>
        </tr>
        {% for row in type_error_import_list %}
        <tr>
            <td>
                {{ row }}
            </td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endif %}

{% endblock %}
